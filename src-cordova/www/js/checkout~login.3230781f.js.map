{"version":3,"sources":["webpack:///./src/components/FBLogin.vue?32ac","webpack:///./src/service/OrderService.js","webpack:///./src/components/FBLogin.vue?0199","webpack:///./src/components/FBLogin.vue?e56d","webpack:///src/components/FBLogin.vue","webpack:///./src/components/FBLogin.vue?8c7f","webpack:///./src/components/FBLogin.vue"],"names":["OrderService","listDto","townshipId","address","phoneNo","preferedTime","date","url","this","axios","post","then","request","data","get","token","console","log","params","BasicService","orderService","render","_vm","_h","$createElement","_c","_self","staticClass","isLogin","_v","domProps","_s","$t","attrs","baseUrl","on","logout","login","staticRenderFns","mounted","window","fbAsyncInit","FB","init","appId","cookie","xfbml","version","checkLoginState","computed","methods","type","$store","dispatch","getLoginStatus","fbInfo","api","response","component"],"mappings":"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","file":"js/checkout~login.3230781f.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FBLogin.vue?vue&type=style&index=0&id=52fbae49&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FBLogin.vue?vue&type=style&index=0&id=52fbae49&scoped=true&lang=css&\"","import BasicService from \"./BasicService\";\r\n\r\nclass OrderService extends BasicService {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  saveOrder({\r\n    listDto = [],\r\n    townshipId = 0,\r\n    address = \"\",\r\n    phoneNo = \"\",\r\n    preferedTime = \"\",\r\n    date = \"\",\r\n  }) {\r\n    let url = `/orders`;\r\n    return this.axios\r\n      .post(url, {\r\n        listDto,\r\n        townshipId,\r\n        address,\r\n        phoneNo,\r\n        preferedTime,\r\n        date,\r\n      })\r\n      .then((request) => request.data);\r\n  }\r\n\r\n  getOrder() {\r\n    let url = `/orders`;\r\n    return this.axios.get(url).then((request) => request.data);\r\n  }\r\n\r\n  login(token) {\r\n    console.log(token);\r\n    let url = `/userLogin?token=${token}`;\r\n    return this.axios.post(url).then((request) => request.data);\r\n  }\r\n\r\n  loginPhone(token) {\r\n    let url = `/userLogin/phone`;\r\n    return this.axios\r\n      .post(url, null, {\r\n        params: {\r\n          token,\r\n        },\r\n      })\r\n      .then((request) => request.data);\r\n  }\r\n}\r\n\r\nconst orderService = new OrderService();\r\nexport default orderService;\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FBLogin.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FBLogin.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row justify-content-md-center\"},[_c('div',{staticClass:\"col col-md-7 col-lg-4\"},[(!_vm.isLogin)?_c('h5',{staticClass:\"product-title\",domProps:{\"innerHTML\":_vm._s(_vm.$t('freshText'))}}):_c('h5',[_vm._v(\"Logout ထွက်မှာ သေချာပါသလား။\")])])]),_c('div',{staticClass:\"row justify-content-md-center\"},[_c('div',{staticClass:\"col col-md-5 col-lg-3\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":(_vm.baseUrl + \"/img/fresh_bg.png\"),\"alt\":\"Fresh Myanmar\"}})])]),(!_vm.isLogin)?[_c('div',{staticClass:\"row justify-content-md-center\"},[_c('div',{staticClass:\"col col-lg-3 my-1\"},[(!_vm.isLogin)?_c('a',{staticClass:\"btn btn-social btn-facebook btn-block\",on:{\"click\":_vm.login}},[_c('span',{staticClass:\"fa fa-facebook\"}),_vm._v(\" Sign in with Facebook \")]):_c('a',{staticClass:\"btn btn-social btn-facebook btn-block\",on:{\"click\":_vm.logout}},[_c('span',{staticClass:\"fa fa-facebook\"}),_vm._v(\" Logout \")])])]),_c('div',{staticClass:\"row justify-content-md-center\"},[_c('div',{staticClass:\"col col-md-6 col-lg-3 my-1\"},[_c('b-link',{staticClass:\"btn btn-social btn-block btn-phone\",attrs:{\"to\":\"/phoneLogin\"}},[_c('i',{staticClass:\"fa fa-phone\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"Sign in with Phone \")])],1)])]:[_c('div',{staticClass:\"row justify-content-md-center\"},[_c('div',{staticClass:\"col col-md-3 my-1\"},[_c('b-link',{staticClass:\"btn btn-social btn-block btn-logout\",on:{\"click\":_vm.logout}},[_c('i',{staticClass:\"fa fa-sign-out\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"Logout \")])],1)])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row justify-content-md-center\">\r\n      <div class=\"col col-md-7 col-lg-4\">\r\n        <h5 class=\"product-title\" v-if=\"!isLogin\" v-html=\"$t('freshText')\"></h5>\r\n        <h5 v-else>Logout ထွက်မှာ သေချာပါသလား။</h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"row justify-content-md-center\">\r\n      <div class=\"col col-md-5 col-lg-3\">\r\n        <img\r\n          :src=\"`${baseUrl}/img/fresh_bg.png`\"\r\n          class=\"img-fluid\"\r\n          alt=\"Fresh Myanmar\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <template v-if=\"!isLogin\">\r\n      <div class=\"row justify-content-md-center\">\r\n        <div class=\"col col-lg-3 my-1\">\r\n          <a\r\n            class=\"btn btn-social btn-facebook btn-block\"\r\n            @click=\"login\"\r\n            v-if=\"!isLogin\"\r\n          >\r\n            <span class=\"fa fa-facebook\"></span> Sign in with Facebook\r\n          </a>\r\n          <a\r\n            class=\"btn btn-social btn-facebook btn-block\"\r\n            v-else\r\n            @click=\"logout\"\r\n          >\r\n            <span class=\"fa fa-facebook\"></span> Logout\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-md-center\">\r\n        <div class=\"col col-md-6 col-lg-3 my-1\">\r\n          <b-link class=\"btn btn-social btn-block btn-phone\" to=\"/phoneLogin\">\r\n            <i class=\"fa fa-phone\" aria-hidden=\"true\"></i>Sign in with Phone\r\n          </b-link>\r\n        </div>\r\n      </div>\r\n    </template>\r\n    <template v-else>\r\n      <div class=\"row justify-content-md-center\">\r\n        <div class=\"col col-md-3 my-1\">\r\n          <b-link class=\"btn btn-social btn-block btn-logout\" @click=\"logout\">\r\n            <i class=\"fa fa-sign-out\" aria-hidden=\"true\"></i>Logout\r\n          </b-link>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport orderService from \"../service/OrderService\";\r\nimport { mapGetters } from \"vuex\";\r\nimport axios from \"../config/index\";\r\n\r\nexport default {\r\n  mounted: function() {\r\n    window.fbAsyncInit = function() {\r\n      FB.init({\r\n        appId: \"3254483804579476\",\r\n        cookie: true,\r\n        xfbml: true,\r\n        version: \"v6.0\",\r\n      });\r\n\r\n      this.checkLoginState();\r\n    }.bind(this);\r\n  },\r\n  data() {\r\n    return {\r\n      baseUrl: axios.defaults.baseURL,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"userToken\", \"isLogin\", \"type\"]),\r\n  },\r\n  methods: {\r\n    login: function() {\r\n      FB.login(\r\n        function(response) {\r\n          if (response.status == \"unknown\") {\r\n            //auth.accessToken\r\n            //userID\r\n          } else if (response.status == \"connected\") {\r\n            let auth = response.authResponse;\r\n\r\n            orderService.login(auth.accessToken).then((data) => {\r\n              axios.defaults.headers.common[\r\n                \"Authorization\"\r\n              ] = ` Bearer ${data.userToken}`;\r\n              this.$store.dispatch(\"app/login\", data);\r\n            });\r\n          } else if (response.status == \"not_authorized\") {\r\n          }\r\n        }.bind(this),\r\n        { scope: \"public_profile,email\" }\r\n      );\r\n    },\r\n    logout: function() {\r\n      if (this.type == \"phone\") {\r\n        this.$store.dispatch(\"app/logout\", {});\r\n      } else {\r\n        this.$store.dispatch(\"app/logout\", {});\r\n        FB.logout(function(response) {}.bind(this));\r\n      }\r\n    },\r\n    checkLoginState: function() {\r\n      FB.getLoginStatus(\r\n        function(response) {\r\n          if (response.status === \"connected\") {\r\n            var uid = response.authResponse.userID;\r\n            var accessToken = response.authResponse.accessToken;\r\n            orderService.login(accessToken).then((data) => {\r\n              axios.defaults.headers.common[\r\n                \"Authorization\"\r\n              ] = ` Bearer ${data.userToken}`;\r\n              this.$store.dispatch(\"app/login\", data.userToken);\r\n            });\r\n          } else if (response.status === \"not_authorized\") {\r\n            // The user hasn't authorized your application.  They\r\n            // must click the Login button, or you must call FB.login\r\n            // in response to a user gesture, to launch a login dialog.\r\n            // this.$store.dispatch(\"app/logout\", {});\r\n          } else {\r\n            // The user isn't logged in to Facebook. You can launch a\r\n            // login dialog with a user gesture, but the user may have\r\n            // to log in to Facebook before authorizing your application.\r\n            // this.$store.dispatch(\"app/logout\", {});\r\n          }\r\n        }.bind(this),\r\n        { scope: \"public_profile,email\" }\r\n      );\r\n    },\r\n    fbInfo: function() {\r\n      FB.api(\"/me\", function(response) {\r\n        console.log(response);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"~bootstrap-social/bootstrap-social.css\";\r\n\r\n.btn-facebook {\r\n  color: white !important;\r\n}\r\n.btn-phone {\r\n  color: white !important;\r\n  background: #02bd7e;\r\n}\r\n.btn-logout {\r\n  color: white !important;\r\n  background: red;\r\n}\r\n</style>\r\n<style>\r\n.product-title {\r\n  line-height: 1.7rem;\r\n}\r\n.product-title b.green {\r\n  color: #73c40f;\r\n}\r\n.product-title b.red {\r\n  color: #ce380d;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FBLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FBLogin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FBLogin.vue?vue&type=template&id=52fbae49&scoped=true&\"\nimport script from \"./FBLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./FBLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FBLogin.vue?vue&type=style&index=0&id=52fbae49&scoped=true&lang=css&\"\nimport style1 from \"./FBLogin.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52fbae49\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}